# 智能股票交易分析系统

基于RTX 4090深度学习的股票短期交易策略系统，专门分析50支科技股票，寻找1-2天的盈利机会。

## 🎯 核心功能

- 🔥 **真实数据获取**: 从Yahoo Finance和腾讯财经API获取50支A股科技股票数据
- 🤖 **AI预测模型**: 使用改进的LSTM+注意力机制预测1-2天价格走势
- 📊 **低价机会识别**: 基于RSI、MACD、布林带等技术指标筛选低估值股票
- 💰 **交易成本计算**: 精确计算印花税、佣金、过户费等所有交易成本
- 🎯 **最优策略推荐**: 智能推荐买入卖出价格，追求最佳盈利
- 🚀 **GPU加速**: 专为RTX 4090优化，大幅提升计算速度

## 🚀 快速开始

### 1. 环境准备

```bash
# 安装基础依赖
pip install -r requirements.txt

# 如果使用RTX 4090，安装CUDA版本PyTorch
pip install torch torchvision torchaudio --index-url https://download.pytorch.org/whl/cu118
```

### 2. 快速分析

```bash
# 运行快速分析（推荐首次使用）
python run_trading_analysis.py
# 选择选项 1 - 快速分析模式
```

### 3. 完整分析

```bash
# 运行完整分析（分析所有50支股票）
python smart_trading_analyzer.py
```

## 📊 分析流程

### 1. **数据获取阶段**
- 获取50支科技股票近2年历史数据
- 包含OHLCV数据和技术指标计算
- 数据质量检查和清洗

### 2. **机会识别阶段**
- RSI超卖信号（RSI < 30）
- 价格接近布林带下轨
- MACD金叉信号
- 价格处于历史低位
- 成交量异常放大
- 短期均线支撑

### 3. **AI预测阶段**
- 双向LSTM网络捕获时序特征
- 多头注意力机制关注关键信息
- 批标准化加速收敛
- Dropout防止过拟合
- 预测1天和2天后的价格

### 4. **策略优化阶段**
- 计算所有交易成本
- 评估不同持仓期收益
- 推荐最优买卖价格
- 风险收益比分析

## 💼 交易成本计算

系统精确计算A股所有交易费用：

- **印花税**: 0.1%（仅卖出收取）
- **佣金**: 0.03%（买卖双向，最低5元）
- **过户费**: 0.002%（买卖双向）

## 📈 分析的50支科技股票

### 软件开发
- 用友网络(600588)、广联达(002410)、同花顺(300033)
- 四维图新(002405)、中科创达(300496)、卫宁健康(300253)
- 深信服(300454)、**科大讯飞(002230)**

### 电子设备
- 海康威视(002415)、京东方A(000725)、歌尔股份(002241)
- 中兴通讯(000063)、大华股份(002236)、信维通信(300136)

### 半导体芯片
- 北方华创(002371)、圣邦股份(300661)、北京君正(300223)
- 景嘉微(300474)、全志科技(300458)、华天科技(002185)

### 人工智能
- 东方财富(300059)、网宿科技(300017)、万达信息(300168)
- 美亚柏科(300188)、天玑科技(300245)、华宇软件(300271)

*...等共50支优质科技股票*

## 🎮 GPU优化特性

专为RTX 4090优化：
- **混合精度训练**: 提升训练速度50%+
- **动态批处理**: 最大化GPU利用率
- **梯度累积**: 支持大批量训练
- **内存优化**: 高效利用24GB显存

## 📋 使用示例

### 快速分析模式
```bash
python run_trading_analysis.py
# 选择 1 - 快速分析
# 约5-10分钟完成前10支股票分析
```

### 完整分析模式
```bash
python smart_trading_analyzer.py
# 分析所有50支股票
# 约30-60分钟完成（取决于GPU性能）
```

### 单只股票分析
```bash
python get_kedaxunfei_data.py
# 专门分析科大讯飞
```

## 📊 输出报告

系统会生成详细的分析报告：

### 文本报告
- 总体投资统计
- 按利润率排序的推荐
- 详细买卖建议
- 风险提示

### 数据文件
- JSON格式的详细分析数据
- 包含预测价格、技术指标、交易策略等

## ⚠️ 重要提示

### 风险警告
1. **本系统仅用于学习和研究目的**
2. **股票投资有风险，预测结果仅供参考**
3. **不构成投资建议，请谨慎决策**
4. **实际交易中可能存在滑点和流动性风险**

### 使用建议
1. **分散投资**: 不要将所有资金投入单只股票
2. **控制仓位**: 建议单只股票仓位不超过总资金的10%
3. **设置止损**: 建议设置3-5%的止损线
4. **关注市场**: 结合大盘走势和政策面分析

## 🔧 系统要求

### 硬件要求
- **GPU**: NVIDIA RTX 4090 (推荐) / RTX 3080以上
- **显存**: ≥ 12GB VRAM
- **内存**: ≥ 16GB RAM
- **存储**: ≥ 5GB 可用空间

### 软件要求
- Python 3.8+
- PyTorch 2.0+
- CUDA 11.8+
- 稳定的网络连接

## 📁 项目结构

```
stock/
├── smart_trading_analyzer.py    # 主分析器
├── run_trading_analysis.py      # 快速启动脚本
├── real_stock_data_fetcher.py   # 数据获取器
├── get_kedaxunfei_data.py       # 科大讯飞专用分析
├── improved_gpu_train.py        # GPU优化训练
├── requirements.txt             # 依赖包列表
└── README.md                   # 项目说明
```

## 🤝 技术支持

如遇到问题，请检查：
1. GPU驱动是否最新
2. CUDA版本是否匹配
3. 网络连接是否稳定
4. 依赖包是否完整安装

## 📄 许可证

MIT License - 仅供学习研究使用